
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>OrisonJS</title>
    <script src="/app.js"></script>
    <link rel="stylesheet" type="text/css" href="/app.css">

    <link rel="stylesheet" href="/highlightjs/github.css">
    <script src="/highlightjs/highlight.pack.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Orison server and static stite generator documentation">
    <link rel="icon" href="icons/favicon.ico">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#fa5d0f">

    <!-- Add to homescreen for Chrome on Android. Fallback for manifest.json -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="OrisonJS">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="OrisonJS">

    <!-- Homescreen icons -->
    <link rel="apple-touch-icon" href="icons/icon-640x640.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icons/icon-512x512.png">

    <!-- Tile icon for Windows 8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="icons/icon-512x512.png">
    <meta name="msapplication-TileColor" content="#fa5d0f">
    <meta name="msapplication-tap-highlight" content="no">

    <!-- Default twitter cards -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@username">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="orison">
    <meta property="og:image" content="icons/icon-512x512.png" />
  </head>
  <body>
    
  <section class="bold">
    
  <h1>OrisonJS</h1>

    <p>A static site generator and server based upon lit-html</p>
  </section>
  <section>
    <p>
      OrisonJS will interpret a source directory, rendering the contents as html files.
      It can be utilized as a static site generator, rendering the html as a build step or it can be utilized as a web server rendering the html on the fly for server side rendering.
    </p>
    <p>
      It utilized the following JavaScript libraries:
    </p>
    <ol>
      <li><a href="https://github.com/popeindustries/lit-html-server">lit-html-server</a></li>
      <li><a href="https://github.com/Polymer/lit-html">lit-html</a></li>
      <li><a href="https://github.com/expressjs/express">express</a></li>
      <li><a href="https://github.com/markdown-it/markdown-it">markdown-it</a></li>
    </ol>
  </section>
  <section><h2>Command Line Usage</h2>
<h1>Note while GitHub pages</h1>
<pre><code class="language-bash">npm install -g orison
orison init my-project
cd my-project

# Build changes to your project to the /docs directory:
orison build

# Serve the files in the /docs directory:
orison static

# Build the html files on the fly from the /src directory:
orison serve
</code></pre>
</section>
  <section><h2>Getting started</h2>
<p>A OrisonJS project should have a <code>src</code> directory in the root of the project with three sub directories</p>
<ul>
<li>/src/pages</li>
<li>/src/partials</li>
<li>/src/static</li>
</ul>
<p>The <code>orison build</code> command will render the page templates under /src/pages into the /docs directory.
The <code>orison static</code> command will statically serve the built files under /docs.
The <code>orison serve</code> command will render the pages under /src/pages at localhost:3000.</p>
<h3>Creating your first page</h3>
<p>Any JavaScript, HTML, or Markdown files under the /src/pages directory will be rendered as an html file at the same location but under the /docs directory.</p>
<p>JavaScript pages should return a lit-html template. Html files will be interpreted as a lit-html template. Markdown files will be rendered as is.</p>
<p>Below is an example page at /src/pages/example.js. Notice that it exports a function which takes no parameters and returns a template.</p>
<pre><code class="language-js">// /src/pages/example.js
const { html } = require('@popeindustries/lit-html-server');

export default () =&gt; html`
  &lt;h1&gt;This is an example page&lt;/h1&gt;
`;
</code></pre>
<p>Or you could define this same page with an html file instead of a JavaScript file:</p>
<pre><code class="language-html">&lt;!-- /src/pages/example.html --&gt;
&lt;h1&gt;This is an example page&lt;/h1&gt;
</code></pre>
<p>Or you could write this same page as a markdown file:</p>
<pre><code class="language-md"># This is an example page
</code></pre>
<h3>Enhancing pages with layouts</h3>
<p>Layouts can be used to provide html that should exist on every page. Layouts should export a method which takes a page template and then renders a full html page. For example if you could create the following layout.js file:</p>
<pre><code class="language-js">// /src/pages/layout.js
const { html } = require('@popeindustries/lit-html-server');

export default page =&gt; html`
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot; /&gt;
    &lt;title&gt;OrisonJS&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div&gt;Website header&lt;/div&gt;
    ${page}
    &lt;div&gt;Website footer&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
`;
</code></pre>
<p>Then you could use this layout in a page in order to produce a full html file:</p>
<pre><code class="language-js">// /src/pages/example.js
const { html } = require('@popeindustries/lit-html-server');
import layout from './layout.js';

export default () =&gt; layout(html`
  &lt;h1&gt;This is an example page&lt;/h1&gt;
`);
</code></pre>
<p>Any pages defined as an HTML file will automatically be inserted into the closest layout.js file that exists within the /src/pages directory structure.</p>
<h3>Utilizing index files</h3>
<p>Any file named with the &quot;index&quot; basename will be returned by the server for the url that matches the directory that it is in. For example the following file will be available at localhost:3000 when the server is running, <em>not</em> localhost:3000/index.html. Most web servers that serve static files will behave in the same way.</p>
<pre><code class="language-js">// /src/pages/index.js
const { html } = require('@popeindustries/lit-html-server');
import layout from './layout.js';

export default () =&gt; layout(html`
  &lt;h1&gt;This is an example page&lt;/h1&gt;
`);
</code></pre>
<h3>Making reusable partials</h3>
<p>If you need reusable chunks of html you can create partials under /src/partials. These partial files should export a method which excepts some paramters and returns an html template. For example we could create the following file:</p>
<pre><code class="language-js">const { html } = require('@popeindustries/lit-html-server');

export default title =&gt; html`
  &lt;h1&gt;${title}&lt;/h1&gt;
`;
</code></pre>
<p>And then use this partial in our page and resuse wherever it is needed.</p>
<pre><code class="language-js">// /src/pages/index.js
const { html } = require('@popeindustries/lit-html-server');
import layout from './layout.js';
import title from '../partials/title.js';

export default () =&gt; layout(html`
  ${title('This is an example page')}
`);
</code></pre>
<h3>The static directory</h3>
<p>Finally, any files in the /src/static directory will get copied as is into the src directory during the build. If running the live server these will be available at the same location under the root of the url. So for example the following css and js files will be available at the specified url:</p>
<p>/src/static/main.css =&gt; localhost:3000/main.css
/src/static/main.js =&gt; localhost:3000/main.js</p>
</section>
  <section><h2>Programatic Usage</h2>
<p>Instead of installing OrisonJS as a command line utility you can install it as a project dependency. Then you can interact with a configurable and programatic API for building and serving your site.</p>
<pre><code class="language-bash">npm install orison
</code></pre>
<p>You can require the CommonJS module from 'orison'.
ES6 Modules are available from './node_modules/orison/bin/orison-esm.js'</p>
<h3>Static site generation</h3>
<p>Here is an example of programmatically building the src directory into the docs directory.</p>
<pre><code class="language-js">const { OrisonGenerator } = require('orison');
const orisonGenerator = new OrisonGenerator({ rootPath: __dirname });
orisonGenerator.build();
</code></pre>
<h3>Static serving</h3>
<p>Here is an example of serving the statically built files.</p>
<pre><code class="language-js">const { OrisonStaticServer } = require('orison');
const orisonStaticServer = new OrisonStaticServer();
orisonStaticServer.start();
</code></pre>
<h3>Server side generation</h3>
<p>Here is an example of serving files and rendering the file during each request.</p>
<pre><code class="language-js">const { OrisonServer } = require('orison');
const orisonServer = new OrisonServer({ rootPath: __dirname });
orisonServer.start();
</code></pre>
<h3>Custom command line utility</h3>
<p>Or you could create a file that builds, serves, or serves static based on provided command line arguments.</p>
<pre><code class="language-js">const { OrisonGenerator, OrisonServer, OrisonStaticServer } = require('orison');

if (process.argv.includes('build')) new OrisonGenerator({ rootPath: __dirname }).build();
if (process.argv.includes('serve')) new OrisonServer({ rootPath: __dirname }).start();
if (process.argv.includes('static')) new OrisonStaticServer().start();
</code></pre>
<p>Then you can build, serve, or serve static with these commands:</p>
<pre><code class="language-bash">node ./orison.js build
node ./orison.js serve
node ./orison.js static
</code></pre>
</section>
  <section><h2>Single pages</h2>
<pre><code class="language-js">export default () =&gt; html`...`
</code></pre>
</section>
  <section><h2>Multiple pages</h2>
<pre><code class="language-js">export default () =&gt; [
  {
    path: 'path-segment-1',
    html: html`...`
  },
  {
    path: 'path-segment-2',
    html: html`...`
  }
  ...
]
</code></pre>
</section>
  <section><h2>Partials</h2>
<pre><code class="language-js">export default data =&gt; html`...`
</code></pre>
</section>
  <section><h2>Layouts</h2>
<pre><code class="language-js">export default page =&gt; html`
  ...
  ${page}
  ...
}
</code></pre>
</section>

    
  <footer>
    <p>
      Icons made by
      <a href="https://www.freepik.com/" title="Freepik">Freepik</a>
      from
      <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a>
      is licensed by
      <a href="http://creativecommons.org/licenses/by/3.0/" title="Creative Commons BY 3.0" target="_blank">CC 3.0 BY</a>
    </p>
  </footer>

  </body>
</html>
